{"version":3,"file":"Container.stories.0523326f.js","sources":["../../src/components/table/utils.tsx"],"sourcesContent":["import { format } from \"date-fns\";\nimport { CategoryChartData, TimeChartData } from \"../../types\";\nimport { ColorCell } from './components/colorCell';\n\nexport const chart2TableTimeData = ({ datasets, times, labels, colors }: TimeChartData) => {\n    const header = [\n        'time',\n        ...datasets.map((_, idx) => <ColorCell color={colors[idx]}>{labels[idx]}</ColorCell>),\n    ];\n    const body = times.map((time, rowIdx) => [\n        format(new Date(time), 'dd.MM HH:mm:ss'),\n        ...datasets.map(dataset => dataset[rowIdx]),\n    ]);\n\n    return {\n        header,\n        body,\n    };\n};\n\nexport const chart2TableCategoryData = ({ data, colors }: CategoryChartData) => {\n    const dataSum = data.reduce((acc, it) => acc + it.value, 0);\n\n    const header = ['', 'Категория', 'Количество', ''];\n    const body = data.map((item, idx) => [\n        <ColorCell color={colors[idx]} />,\n        item.name,\n        item.value,\n        `${((item.value / dataSum) * 100).toFixed(2)}%`,\n    ]);\n    const footer = ['', 'Итого', dataSum, ''];\n\n    return {\n        header,\n        body,\n        footer,\n    };\n};\n"],"names":["chart2TableTimeData","datasets","times","labels","header","_","idx","_jsx","ColorCell","colors","body","time","rowIdx","format","dataset","chart2TableCategoryData","data","dataSum","acc","it","item","footer"],"mappings":"uQAIO,MAAAA,EAAA,CAAA,CAA6B,SAAAC,EAAEA,MAAAA,EAAUC,OAAAA,EAAOC,OAAAA,CAAnB,IAAA,CAChC,MAAAC,EAAA,CAAA,OAAA,GAAAH,EAAA,IAAA,CAAAI,EAAAC,IAAAC,EAAAC,EAAA,CAEgC,MAAAC,EAAAH,GAAyBA,SAAAA,EAAAA,EAAcA,CAAAA,CAAAA,CAAAA,EAEvEI,EAAAR,EAAA,IAAA,CAAAS,EAAAC,IAAA,CAAAC,EAAA,IAAA,KAAAF,CAAA,EAAA,gBAAA,EAAA,GAAAV,EAAA,IAAAa,GAAAA,EAAAF,EAAA,CAAA,CAAA,EAKA,MAAA,CAAO,OAAAR,EACHA,KAAAA,CACAM,CAEP,EAEMK,EAAA,CAAA,CAAiC,KAAAC,EAAEA,OAAAA,CAAF,IAAA,CACpC,MAAAC,EAAAD,EAAA,OAAA,CAAAE,EAAAC,IAAAD,EAAAC,EAAA,MAAA,CAAA,EAEAf,EAAA,CAAA,GAAA,yDAAA,+DAAA,EAAA,EACAM,EAAAM,EAAA,IAAA,CAAAI,EAAAd,IAAA,CAAAC,EAAAC,EAAA,CACI,MAAAC,EAAAH,EAAyBA,CAAAA,EAAAA,EAAAA,KAAAA,EAAAA,MAAAA,IAAAA,EAAAA,MAAAA,EAAAA,KAAAA,QAAAA,CAAAA,IAAAA,CAAAA,EAO7B,MAAA,CAAO,OAAAF,EACHA,KAAAA,EACAM,OAJJ,CAAA,GAAA,iCAAAO,EAAA,EAAA,CAKII,CAEP;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}